(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{3477:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/paid-queue",function(){return i(4907)}])},4907:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var n=i(5893),a=i(7294),s=i(9337),u=i.n(s);function r(){let[e,t]=(0,a.useState)(""),[i,s]=(0,a.useState)(""),[r,l]=(0,a.useState)(1),[o,c]=(0,a.useState)(null),[d,h]=(0,a.useState)(""),_="http://localhost:5000",p=async()=>{try{h("");let e=await fetch("".concat(_,"/api/wait_time")),t=await e.json();c(t.waitingTime)}catch(e){console.error("Error fetching waiting time:",e),h("Failed to fetch waiting time. Please try again.")}},m=async n=>{n.preventDefault();try{h("");let n=await fetch("".concat(_,"/api/wait_time"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:i,peopleCount:r})});if(n.ok)alert("Successfully joined the queue!"),t(""),s(""),l(1),p();else{let e=await n.json();h(e.error||"Failed to join the queue. Please try again.")}}catch(e){console.error("Error joining queue:",e),h("Failed to join the queue. Please try again.")}};return(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsxs)("h1",{className:u().title,children:["Smash the LINE!",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"待ち時間をすっ飛ばせ！"]}),(0,n.jsxs)("div",{className:u().ticketInfo,children:[(0,n.jsx)("h2",{children:"[特急チケット]"}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"A1 5番目"})," | ",(0,n.jsx)("strong",{children:"500円/人"})]})]}),(0,n.jsxs)("form",{onSubmit:m,className:u().form,children:[(0,n.jsxs)("label",{children:["NAME:",(0,n.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"例: 山田 太郎",required:!0,className:u().input})]}),(0,n.jsxs)("label",{children:["PERSON:",(0,n.jsx)("input",{type:"number",value:r,onChange:e=>l(parseInt(e.target.value)),placeholder:"例: 3",required:!0,className:u().input,min:"1"})]}),(0,n.jsxs)("label",{children:["MAIL:",(0,n.jsx)("input",{type:"email",value:i,onChange:e=>s(e.target.value),placeholder:"例: example@email.com",required:!0,className:u().input})]}),(0,n.jsx)("button",{type:"submit",className:u().submitButton,children:"特急チケットを申し込む\uD83D\uDE80"})]})]})}},9337:function(e){e.exports={container:"Paid-Queue_container__669Wk",title:"Paid-Queue_title__IMqE4",description:"Paid-Queue_description__bBSLI",ticketInfo:"Paid-Queue_ticketInfo__6DXXN",form:"Paid-Queue_form__s_TEV",input:"Paid-Queue_input__y65L5",submitButton:"Paid-Queue_submitButton__bsOXx"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3477)}),_N_E=e.O()}]);